<!DOCTYPE html>
<html lang="de">
<head>
    <title>Mathe Quiz</title>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
</head>
<body>
<main class="container">

    <h1>Mathe Quiz</h1>
    <h2 id="usernameOutput"><button data-bs-toggle="modal" data-bs-target="#getUsername" type="button" class="btn btn-info ">Username eingeben</button></h2>
    <article class="grid">

        <section class="p-3">
            <button data-bs-toggle="modal" id="btn1" data-bs-target="#modal-1" onclick="question1()" type="button" class="btn btn-quiz disabled d-none">1</button>
        </section>
        <!-- Modal -->
        <div class="modal fade" id="modal-1" tabindex="-1" aria-labelledby="modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Aufgabe 1</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <form method="post">
                        <div class="modal-body">
                            <input type="hidden" name="round" value="1">
                            <input type="hidden" name="resultPost" id="resultPost1" value="">
                            <p id="question-1"></p>
                            <div class="col">
                                <label class="col-5" for="answer1">Antwort</label>
                                <input class="col-5" id="answer1" type="number" name="answer">
                            </div>
                            <p id="output1"></p>
                        </div>
                        <div class="modal-footer">
                            <button type="reset" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                            <button type="button" onclick="checkQuestion(1)" class="btn btn-info">Ergebnis checken</button>
                            <button type="reset" id="send1" onclick="save(1)" class="btn btn-success disabled" data-bs-dismiss="modal">Abspeichern</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <section class="p-3">
            <button data-bs-toggle="modal" id="btn2" data-bs-target="#modal-2" onclick="question2()" type="button" class="btn btn-quiz disabled d-none">2</button>
        </section>
        <!-- Modal -->
        <div class="modal fade" id="modal-2" tabindex="-1" aria-labelledby="modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Aufgabe 2</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <form method="post">
                        <div class="modal-body">
                            <input type="hidden" name="round" value="2">
                            <input type="hidden" name="resultPost" id="resultPost2" value="">
                            <p id="question-2"></p>
                            <div class="col">
                                <label class="col-5" for="answer2">Antwort</label>
                                <input class="col-5" id="answer2" type="number" name="answer">
                            </div>
                            <p id="output2"></p>
                        </div>
                        <div class="modal-footer">
                            <button type="reset" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                            <button type="button" onclick="checkQuestion(2)" class="btn btn-info">Ergebnis checken</button>
                            <button type="reset" id="send2" onclick="save(2)" class="btn btn-success disabled" data-bs-dismiss="modal">Abspeichern</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <section class="p-3">
            <button data-bs-toggle="modal" id="btn3" data-bs-target="#modal-3" onclick="question3()" type="button" class="btn btn-quiz disabled d-none">3</button>
        </section>
        <!-- Modal -->
        <div class="modal fade" id="modal-3" tabindex="-1" aria-labelledby="modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Aufgabe 3</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <form method="post">
                        <div class="modal-body">
                            <input type="hidden" name="round" value="3">
                            <input type="hidden" name="resultPost" id="resultPost3" value="">
                            <p id="question-3"></p>
                            <div class="col">
                                <label class="col-5" for="answer3">Antwort</label>
                                <input class="col-5" id="answer3" type="number" name="answer">
                            </div>
                            <p id="output3"></p>
                        </div>
                        <div class="modal-footer">
                            <button type="reset" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                            <button type="button" onclick="checkQuestion(3)" class="btn btn-info">Ergebnis checken</button>
                            <button type="reset" id="send3" onclick="save(3)" class="btn btn-success disabled" data-bs-dismiss="modal">Abspeichern</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <section class="p-3">
            <button data-bs-toggle="modal" id="btn4" data-bs-target="#modal-4" onclick="question4()" type="button" class="btn btn-quiz disabled d-none">4</button>
        </section>
        <!-- Modal -->
        <div class="modal fade" id="modal-4" tabindex="-1" aria-labelledby="modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Aufgabe 4</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <form method="post">
                        <div class="modal-body">
                            <input type="hidden" name="round" value="4">
                            <input type="hidden" name="resultPost" id="resultPost4" value="">
                            <p id="question-4"></p>
                            <div class="col">
                                <label class="col-5" for="answer4">Antwort</label>
                                <input class="col-5" id="answer4" type="number" name="answer">
                            </div>
                            <p id="output4"></p>
                        </div>
                        <div class="modal-footer">
                            <button type="reset" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                            <button type="button" onclick="checkQuestion(4)" class="btn btn-info">Ergebnis checken</button>
                            <button type="reset" id="send4" onclick="save(4)" class="btn btn-success disabled" data-bs-dismiss="modal">Abspeichern</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <section class="p-3">
            <button data-bs-toggle="modal" id="btn5" data-bs-target="#modal-5" onclick="question5()" type="button" class="btn btn-quiz disabled d-none">5</button>
        </section>
        <!-- Modal -->
        <div class="modal fade" id="modal-5" tabindex="-1" aria-labelledby="modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Aufgabe 5</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <form method="post" action="save.php">
                        <div class="modal-body">
                            <input type="hidden" name="round" value="5">
                            <input type="hidden" name="resultPost" id="resultPost5" value="">
                            <p id="question-5"></p>
                            <div class="col">
                                <label class="col-5" for="answer5">Antwort</label>
                                <input class="col-5" id="answer5" type="number" name="answer">
                            </div>
                            <p id="output5"></p>
                        </div>
                        <div class="modal-footer">
                            <button type="reset" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                            <button type="button" onclick="checkQuestion(5)" class="btn btn-info">Ergebnis checken</button>
                            <button type="reset" id="send5" onclick="save(5)" class="btn btn-success disabled" data-bs-dismiss="modal">Abspeichern</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <section class="p-3">
            <button data-bs-toggle="modal" id="btn6" data-bs-target="#modal-6" onclick="question6()" type="button" class="btn btn-quiz disabled d-none">6</button>
        </section>
        <!-- Modal -->
        <div class="modal fade" id="modal-6" tabindex="-1" aria-labelledby="modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Aufgabe 6</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <form method="post" action="save.php">
                        <div class="modal-body">
                            <input type="hidden" name="round" value="6">
                            <input type="hidden" name="resultPost" id="resultPost6" value="">
                            <p id="question-6"></p>
                            <div class="col">
                                <label class="col-5" for="answer6">Antwort</label>
                                <input class="col-5" id="answer6" type="number" name="answer">
                            </div>
                            <p id="output6"></p>
                        </div>
                        <div class="modal-footer">
                            <button type="reset" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                            <button type="button" onclick="checkQuestion(6)" class="btn btn-info">Ergebnis checken</button>
                            <button type="reset" id="send6" onclick="save(6)" class="btn btn-success disabled" data-bs-dismiss="modal">Abspeichern</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <section class="p-3">
            <button data-bs-toggle="modal" id="btn7" data-bs-target="#modal-7" onclick="question7()" type="button" class="btn btn-quiz disabled d-none">7</button>
        </section>
        <!-- Modal -->
        <div class="modal fade" id="modal-7" tabindex="-1" aria-labelledby="modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Aufgabe 7</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <form method="post">
                        <div class="modal-body">
                            <input type="hidden" name="round" value="7">
                            <input type="hidden" name="resultPost" id="resultPost7" value="">
                            <p id="question-7"></p>
                            <div class="col">
                                <label class="col-5" for="answer7">Antwort</label>
                                <input class="col-5" id="answer7" type="number" name="answer">
                            </div>
                            <p id="output7"></p>
                        </div>
                        <div class="modal-footer">
                            <button type="reset" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                            <button type="button" onclick="checkQuestion(7)" class="btn btn-info">Ergebnis checken</button>
                            <button type="reset" id="send7" onclick="save(7)" class="btn btn-success disabled" data-bs-dismiss="modal">Abspeichern</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <section class="p-3">
            <button data-bs-toggle="modal" id="btn8" data-bs-target="#modal-8" onclick="question8()" type="button" class="btn btn-quiz disabled d-none">8</button>
        </section>
        <!-- Modal -->
        <div class="modal fade" id="modal-8" tabindex="-1" aria-labelledby="modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Aufgabe 1</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <form method="post" action="save.php">
                        <div class="modal-body">
                            <input type="hidden" name="round" value="8">
                            <input type="hidden" name="resultPost" id="resultPost8" value="">
                            <p id="question-8"></p>
                            <div class="col">
                                <label class="col-5" for="answer8">Antwort</label>
                                <input class="col-5" id="answer8" type="number" name="answer">
                            </div>
                            <p id="output8"></p>
                        </div>
                        <div class="modal-footer">
                            <button type="reset" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                            <button type="button" onclick="checkQuestion(8)" class="btn btn-info">Ergebnis checken</button>
                            <button type="reset" id="send8" onclick="save(8)" class="btn btn-success disabled" data-bs-dismiss="modal">Abspeichern</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <section class="p-3">
            <button data-bs-toggle="modal" id="btn9" data-bs-target="#modal-9" onclick="question9()" type="button" class="btn btn-quiz disabled d-none">9</button>
        </section>
        <!-- Modal -->
        <div class="modal fade" id="modal-9" tabindex="-1" aria-labelledby="modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Aufgabe 9</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <form method="post" action="save.php">
                        <div class="modal-body">
                            <input type="hidden" name="round" value="9">
                            <input type="hidden" name="resultPost" id="resultPost9" value="">
                            <p id="question-9"></p>
                            <div class="col">
                                <label class="col-5" for="answer9">Antwort</label>
                                <input class="col-5" id="answer9" type="number" name="answer">
                            </div>
                            <p id="output9"></p>
                        </div>
                        <div class="modal-footer">
                            <button type="reset" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                            <button type="button" onclick="checkQuestion(9)" class="btn btn-info">Ergebnis checken</button>
                            <button type="reset" id="send9" onclick="save(9)" class="btn btn-success disabled" data-bs-dismiss="modal">Abspeichern</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        
    </article>
    <button class="btn btn-dark" type="button" onclick="newGame()">Neues Spiel</button>

    <!-- Modal -->
    <div class="modal fade" id="getUsername" tabindex="-1" aria-labelledby="modal" data-backdrop="static" data-keyboard="false" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Username speichern</h5>
                </div>
                <div class="modal-body">
                    <div class="col">
                        <label class="col-5" for="user">Wie ist dein Username</label>
                        <input class="col-5" id="user" type="text" name="user">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" onclick="saveUser()" data-bs-dismiss="modal" class="btn btn-primary">Save changes</button>
                </div>
            </div>
        </div>
    </div>


</main>
<script
        src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"
        crossorigin="anonymous"></script>
<script>

    "use strict";
        console.log(localStorage);     
       

    // if 
    if (localStorage.getItem('username')){
        $('#usernameOutput').text(localStorage.getItem('username'));
        let round = localStorage.getItem('round');
        $('#btn'+ round).removeClass('disabled');
        $('#btn'+ round).removeClass('d-none');


    }

    // saveUser

    function saveUser(){
        let username = $('#user').val();
        localStorage.setItem('username', username);
        localStorage.setItem('round', '1');
        $('#btn1').removeClass('disabled');
        $('#btn1').fadeIn(30);
        $('#btn1').removeClass('d-none');
    }

    // save the answer

    function save(number){
        let newround = number + 1;
        localStorage.setItem('round', String(newround));
        $('#btn' + number).addClass('disabled');
        $('#btn' + number).fadeOut("slow");
        $('#btn'+ newround).removeClass('disabled');
        $('#btn' + newround).fadeIn(3000);
        $('#btn' + newround).removeClass('d-none');
        
        
        
    }

    // checkQuestion

    function checkQuestion(number){
        let sum = $('#resultPost'+ number).val();
        let useranswer = $('#answer'+ number).val();

        if(sum === useranswer){
            $('#output' + number).text('Super, du kannst rechnen! xD');
            $('#send' + number).removeClass('disabled');
        }else{
            $('#output'+number).text('Falsch, probiers nochmal! :)');
        //JS: document.getElementbyId('output'+ number).innerText = 'Falsch, probiers nochmal!';
        }
    }

    // new Game

    function newGame (){
        localStorage.clear();
        location.reload();
    }

    /*Fragen*/
    function question1() {
        let a = Math.floor(Math.random() * 49 + 1);
        let b = Math.floor(Math.random() * 49 + 1);
        let sum = a + b;
        $('#question-1').text("Was ist das Ergebnis aus " + a + " + " + b + "?");
        $('#questionPost1').val("Was ist das Ergebnis aus " + a + " + " + b + "?");
        $('#usernamePost1').val(localStorage.getItem("username"));
        $('#resultPost1').val(sum);
    }

    function question2() {
        let a = Math.floor(Math.random() * 49 + 51);
        let b = Math.floor(Math.random() * 49 + 1);
        let sum = a - b;
        $('#question-2').text("Was ist das Ergebnis aus " + a + " - " + b + "?");
        $('#questionPost2').val("Was ist das Ergebnis aus " + a + " - " + b + "?");
        $('#usernamePost2').val(localStorage.getItem("username"));
        $('#resultPost2').val(sum);
    }
    function question3() {
        let a = Math.floor(Math.random() * 19 + 1);
        let b = Math.floor(Math.random() * 19 + 1);
        let sum = a * b;
        $('#question-3').text("Was ist das Ergebnis aus " + a + " * " + b + "?");
        $('#questionPost3').val("Was ist das Ergebnis aus " + a + " * " + b + "?");
        $('#usernamePost3').val(localStorage.getItem("username"));
        $('#resultPost3').val(sum);
    }
    function question4() {
        let a = Math.floor(Math.random() * 9 + 1); // der Divisor
        let b = Math.floor(Math.random() * 49 + 1); // Ergebnis des Divisor
        let sum = a * b / a;
        $('#question-4').text("Was ist das Ergebnis aus " + a * b + " / " + a + "?");
        $('#questionPost4').val("Was ist das Ergebnis aus " + a * b + " / " + a + "?");
        $('#usernamePost4').val(localStorage.getItem("username"));
        $('#resultPost4').val(sum);
    }
    function question5() {
        let a = Math.floor(Math.random() * 49 + 1);
        let b = Math.floor(Math.random() * 49 + 1);
        let c = Math.floor(Math.random() * 9 + 1);
        let sum = a + b * c;
        $('#question-5').text("Was ist das Ergebnis aus " + + a + " + " + b + " * " + c + "?");
        $('#questionPost5').val("Was ist das Ergebnis aus " + + a + " + " + b + " * " + c  + "?");
        $('#usernamePost5').val(localStorage.getItem("username"));
        $('#resultPost5').val(sum);
    }
    function question6() {
        let a = Math.floor(Math.random() * 49 + 1);
        let b = Math.floor(Math.random() * 49 + 1);
        let c = Math.floor(Math.random() * 9 + 1);
        let sum = (a + b) * c;
        $('#question-6').text("Was ist das Ergebnis aus (" + a + " + " + b + ") * " + c + "?");
        $('#questionPost6').val("Was ist das Ergebnis aus (" + a + " + " + b + ") * " + c + "?");
        $('#usernamePost6').val(localStorage.getItem("username"));
        $('#resultPost6').val(sum);
    }
    function question7() {
        let a = Math.floor(Math.random() * 9 + 1);
        let b = Math.floor(Math.random() * 49 + 1);
        let c = Math.floor(Math.random() * 49 + 1);
        let sum = b - c;
        $('#question-7').text("Was ist das Ergebnis aus " + a * b + " / " + a + " - " + c + "?");
        $('#questionPost7').val("Was ist das Ergebnis aus " + a * b + " / " + a + " - " + c + "?");
        $('#usernamePost7').val(localStorage.getItem("username"));
        $('#resultPost7').val(sum);
    }
    function question8() {
        let a = Math.floor(Math.random() * 19 + 1); //das Ergebnis
        let sum = a;
        $('#question-8').text("Was ist die Quadratwurzel von " + a * a + "?");
        $('#questionPost8').val("Was ist die Quadratwurzel von " + a * a + "?");
        $('#usernamePost8').val(localStorage.getItem("username"));
        $('#resultPost8').val(sum);
    }
    function question9() {
        let a = Math.floor(Math.random() * 9 + 2); //die Basis
        let b = Math.floor(Math.random() * 9 + 1); //das Ergebnis
        let sum = b;
        $('#question-9').text("Was ist der Logarithmus von " + Math. pow(a, b) + " zur Basis " + a + "?");
        $('#questionPost9').val("Was ist der Logarithmus von " + Math. pow(a, b) + " zur Basis " + a + "?");
        $('#usernamePost9').val(localStorage.getItem("username"));
        $('#resultPost9').val(sum);
    }
</script>
</body>
</html>